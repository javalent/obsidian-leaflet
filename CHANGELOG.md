# Changelog

All notable changes to this project will be documented in this file. See [standard-version](https://github.com/conventional-changelog/standard-version) for commit guidelines.

## [3.5.5](https://github.com/javalent/obsidian-leaflet/compare/v3.5.4...3.5.5) (2023-04-20)


### Bug Fixes

* setup for npm release ([f00409a](https://github.com/javalent/obsidian-leaflet/commit/f00409ad2d812aadf66ed37ca5f9487d7d11e498))

### [5.5.2](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.5.1...5.5.2) (2023-04-11)


### Bug Fixes

* adds small dropshadow to markers (close [#363](https://github.com/valentine195/obsidian-leaflet-plugin/issues/363)) ([8badcaf](https://github.com/valentine195/obsidian-leaflet-plugin/commit/8badcaf57981198c3d544f2b769590c39190ebfd))

## [5.5.0](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.4.0...5.5.0) (2023-04-08)


### Features

* Can now measure in segments by continuing to mod-click ([fbdf5f0](https://github.com/valentine195/obsidian-leaflet-plugin/commit/fbdf5f095722b408ce4899bca9e8a23555a57111))

## [5.4.0](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.2.6...5.4.0) (2023-04-07)


### Features

* can alt-click to measure polylines from drawing ([6bc541f](https://github.com/valentine195/obsidian-leaflet-plugin/commit/6bc541f859c46f4ce52be8a4df602f935ef94e1c))


### Bug Fixes

* fixes incorrect use of Set ([b3f5c47](https://github.com/valentine195/obsidian-leaflet-plugin/commit/b3f5c47473e3c4f3c25be85f5b0de7f12b2a2506))

## [5.3.0](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.2.6...5.3.0) (2023-04-06)

### New Features
* Adds support for Chinese internalization (@Wanxp) [#358](https://github.com/valentine195/obsidian-leaflet-plugin/pull/358)
* Adds ability to save drawings as GeoJSON (close #337) (@preslavnpetrov) [#360](https://github.com/valentine195/obsidian-leaflet-plugin/pull/360)
* Improves GeoJSON file resolving (@SpocWeb) [#350](https://github.com/valentine195/obsidian-leaflet-plugin/pull/350)

### Bug Fixes

* fixes incorrect use of Set ([b3f5c47](https://github.com/valentine195/obsidian-leaflet-plugin/commit/b3f5c47473e3c4f3c25be85f5b0de7f12b2a2506))

### [5.2.7](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.2.6...5.2.7) (2023-03-29)

### [5.2.6](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.2.5...5.2.6) (2023-02-28)


### Bug Fixes

* fixes hover popover decoration ([734dd67](https://github.com/valentine195/obsidian-leaflet-plugin/commit/734dd676d0562b29e2e33d14823a9bfb3d0eceed))

### [5.2.5](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.2.4...5.2.5) (2023-02-28)


### Bug Fixes

* fixes source issue for hover-link ([4e60236](https://github.com/valentine195/obsidian-leaflet-plugin/commit/4e60236e13134f3a79ac5b07a4e468c409dc21bf))

### [5.2.4](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.2.3...5.2.4) (2023-02-28)


### Bug Fixes

* decorate leaflet sourced hover-popovers ([617d69f](https://github.com/valentine195/obsidian-leaflet-plugin/commit/617d69f7d2e2e7d0402f8dd33ab4b5935bbed15d))

### [5.2.3](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.2.2...5.2.3) (2023-02-28)


### Bug Fixes

* adds plugin as link hover source ([ada3e64](https://github.com/valentine195/obsidian-leaflet-plugin/commit/ada3e64627b5472c185ce4949135b94b70dd2e95))
* map now respects cmd-hover ([cd2142e](https://github.com/valentine195/obsidian-leaflet-plugin/commit/cd2142e23c4a187d307be21b6fc571ca9b93ec82))

### [5.2.2](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.2.1...5.2.2) (2023-02-14)


### Bug Fixes

* fixes copy on shift-click ([f623074](https://github.com/valentine195/obsidian-leaflet-plugin/commit/f62307466c2695c1ff2f93e5f2bbd89fbd0230b4))

### [5.2.1](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.2.0...5.2.1) (2023-02-14)


### Bug Fixes

* adds copy coordinates to mobile context menu ([400894f](https://github.com/valentine195/obsidian-leaflet-plugin/commit/400894f41c16fac2259ed00b952f4767a224a63f))

## [5.2.0](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.1.2...5.2.0) (2023-02-14)


### Features

* Mobile measuring added to map long-press menu ([525ae2d](https://github.com/valentine195/obsidian-leaflet-plugin/commit/525ae2dbd9fb503a17ab28e36eafb0b6aa15a72f))

### [5.1.2](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.1.1...5.1.2) (2023-01-30)


### Bug Fixes

* lock state persists ([d6436b1](https://github.com/valentine195/obsidian-leaflet-plugin/commit/d6436b1cb4ad324174db81428b76f620aff0f71a))

### [5.1.1](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.0.5...5.1.1) (2022-11-13)


### Bug Fixes

* version ([7f3f66b](https://github.com/valentine195/obsidian-leaflet-plugin/commit/7f3f66b5dcbebcffe8b9040647eabe2fd08f5f61))

### [5.0.5](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.1.0...5.0.5) (2022-11-13)

### [5.0.4](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.0.3...5.0.4) (2022-09-12)


### Bug Fixes

* fixes appearance of native context menus ([a70a041](https://github.com/valentine195/obsidian-leaflet-plugin/commit/a70a0415c84a2d925799f048a2151152ecbc772d))

### [5.0.3](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.0.2...5.0.3) (2022-04-02)


### Bug Fixes

* Fixes issue where marker types deleted in settings would crash the plugin ([bacc370](https://github.com/valentine195/obsidian-leaflet-plugin/commit/bacc37086f5822832eb5346c0312465b62178b0c))

### [5.0.2](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.0.1...5.0.2) (2022-03-30)


### Bug Fixes

* Fixes icons not rendering due to SVG mask duplication (close [#293](https://github.com/valentine195/obsidian-leaflet-plugin/issues/293)) ([6e95de5](https://github.com/valentine195/obsidian-leaflet-plugin/commit/6e95de573634887de500caed78a8a10b8155dad1))

### [5.0.1](https://github.com/valentine195/obsidian-leaflet-plugin/compare/5.0.0...5.0.1) (2022-03-15)


### Bug Fixes

* Fixes GPX tooltip not inheriting map units (close [#288](https://github.com/valentine195/obsidian-leaflet-plugin/issues/288)) ([8640245](https://github.com/valentine195/obsidian-leaflet-plugin/commit/8640245f87428a239b81bca13dce4230fcf4b880))

## [5.0.0](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.14.0...5.0.0) (2022-03-14)


### âš  BREAKING CHANGES

* OpenStreetMap has restricted use of its tile server in Obsidian. The default tile server for Obsidian Leaflet has been changed to Stamen Terrain. Please see #286 for more information. (close #286)

### Features

* OpenStreetMap has restricted use of its tile server in Obsidian. The default tile server for Obsidian Leaflet has been changed to Stamen Terrain. Please see [#286](https://github.com/valentine195/obsidian-leaflet-plugin/issues/286) for more information. (close [#286](https://github.com/valentine195/obsidian-leaflet-plugin/issues/286)) ([3b33092](https://github.com/valentine195/obsidian-leaflet-plugin/commit/3b33092ddf540d444033a2457e3fe6d7c68867f5))

## [4.14.0](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.13.0...4.14.0) (2022-02-28)


### Features

* Adds description field + reorganizes Edit Marker modal ([b1a648f](https://github.com/valentine195/obsidian-leaflet-plugin/commit/b1a648feeff2b171c824e7f2349d5e62fa21bf6c))
* Adds support for markdown links in addition to wikilinks (close [#280](https://github.com/valentine195/obsidian-leaflet-plugin/issues/280)) ([c903209](https://github.com/valentine195/obsidian-leaflet-plugin/commit/c9032096810b908c768a093769fce7401ce08d40))
* Marker double-clicks now open the edit marker modal ([1c01511](https://github.com/valentine195/obsidian-leaflet-plugin/commit/1c01511e9e6869dc58df54d5199990175de99749))


### Bug Fixes

* Fixed issue where setting a marker description could also set the link ([138d59b](https://github.com/valentine195/obsidian-leaflet-plugin/commit/138d59bdb9e91ff6493d6c24e6c6135a131e1133))
* Marker descriptions now displayed in tooltip even if there is a link ([bd9a200](https://github.com/valentine195/obsidian-leaflet-plugin/commit/bd9a200c23f46898e84287e4ebb9c33a98ac848e))

## [4.13.0](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.12.1...4.13.0) (2022-01-26)


### Features

* adds ability to force map to recenter when dragged ([057f9c6](https://github.com/valentine195/obsidian-leaflet-plugin/commit/057f9c61e54b2d01fabaf9299b72bb5f5a2452ab))
* adds noScrollZoom block parameter ([a8b607f](https://github.com/valentine195/obsidian-leaflet-plugin/commit/a8b607fe234e14c2c247bfa89f25999716ccb2a7))

### [4.12.1](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.12.0...4.12.1) (2022-01-25)


### Bug Fixes

* geojson and gpx now default to the file name [#263](https://github.com/valentine195/obsidian-leaflet-plugin/issues/263) ([4e9b72b](https://github.com/valentine195/obsidian-leaflet-plugin/commit/4e9b72b04ca25f4504f19c742f6dbb9b3fbb87cc))

## [4.12.0](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.11.0...4.12.0) (2022-01-25)


### Features

* can now link geojson to notes ([9eb6b2a](https://github.com/valentine195/obsidian-leaflet-plugin/commit/9eb6b2a24993dd55044ecd16df9de8e4ab495c75))
* maps can now be locked to prevent editing ([25befa7](https://github.com/valentine195/obsidian-leaflet-plugin/commit/25befa710a2d73ab02952281d23864e51a207a4a))
* tile layers can now default on with the `|on` flag ([f5a4e56](https://github.com/valentine195/obsidian-leaflet-plugin/commit/f5a4e565f0b86528af66bb4af2b69160ca63c89a))


### Bug Fixes

* fixes control order when just using tileoverlays ([8bbce58](https://github.com/valentine195/obsidian-leaflet-plugin/commit/8bbce58807fac4638cc8fe1a829b6193beea50cc))

## [4.11.0](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.10.0...4.11.0) (2022-01-24)


### Features

* much improved image loading ([08c80ed](https://github.com/valentine195/obsidian-leaflet-plugin/commit/08c80ed73b44ab870d0ae5d4b7947b4690400bec))

## [4.10.0](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.9.0...4.10.0) (2022-01-23)


### Features

* now show current zoom level on Reset Zoom control ([e53ace5](https://github.com/valentine195/obsidian-leaflet-plugin/commit/e53ace5a4b83765f45b5b86e091a1ff07c6ce29a))


### Bug Fixes

* Update release notes message ([8d8ec5c](https://github.com/valentine195/obsidian-leaflet-plugin/commit/8d8ec5cdf48fbb4de26eb53c77b7c932ee7ea81f))

## [4.9.0](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.8.0...4.9.0) (2022-01-11)


### Features

* add settings to change default tile servers ([043e248](https://github.com/valentine195/obsidian-leaflet-plugin/commit/043e248c7d17bd17374527b5a5838c41fd6f12dc))

## [4.8.0](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.7.4...4.8.0) (2021-12-16)


### Features

* added `width` parameter (close [#262](https://github.com/valentine195/obsidian-leaflet-plugin/issues/262)) ([d2d2a22](https://github.com/valentine195/obsidian-leaflet-plugin/commit/d2d2a2252c0e06893b99e7c377bc4f6648b7d829))


### Bug Fixes

* removed console logs ([34feb92](https://github.com/valentine195/obsidian-leaflet-plugin/commit/34feb92e040a1d2a2e3896f2dddec6fa7c59985e))
* scopes now properly inherit global scopes ([0b3b681](https://github.com/valentine195/obsidian-leaflet-plugin/commit/0b3b681f26e84baf7017d68ae492ac6b172f996f))

### [4.7.4](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.7.3...4.7.4) (2021-12-11)


### Bug Fixes

* fixed issue with tile overlay ([22da6cc](https://github.com/valentine195/obsidian-leaflet-plugin/commit/22da6cc8adde8d8ad0a5a3109084c5b3514abb26))

### [4.7.2](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.7.1...4.7.2) (2021-12-10)


### Bug Fixes

* update release message ([b27bfa8](https://github.com/valentine195/obsidian-leaflet-plugin/commit/b27bfa8c531facaffd4f689cafe1f5f32a4f67e9))

### [4.7.1](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.7.0...4.7.1) (2021-12-10)


### Bug Fixes

* fix release version ([a3b4c44](https://github.com/valentine195/obsidian-leaflet-plugin/commit/a3b4c44b3cc68d7644781e937e9f24f4b634340e))

## [4.7.0](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.6.2...4.7.0) (2021-12-10)


### Features

* testing changelog for claire ([a7d6464](https://github.com/valentine195/obsidian-leaflet-plugin/commit/a7d64644c54714ab386bc0f489f779a95e826148))

### [4.6.2](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.6.1...4.6.2) (2021-12-10)


### Bug Fixes

* index bug ([e11f663](https://github.com/valentine195/obsidian-leaflet-plugin/commit/e11f663b1eac24e2d499b84c64e3e3895b682238))

### [4.6.1](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.6.0...4.6.1) (2021-12-10)


### Bug Fixes

* bug with naming of new tileoverlays ([7398e5d](https://github.com/valentine195/obsidian-leaflet-plugin/commit/7398e5d594b17465e0136b855968da9957b8ce9b))

## [4.6.0](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.5.0...4.6.0) (2021-12-10)


### Features

* added `tileOverlay` map option to specify tile servers as map overlays ([eec6368](https://github.com/valentine195/obsidian-leaflet-plugin/commit/eec636861baaf1add50182d301ef033ec2ddf865))

## [4.5.0](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.4.0...4.5.0) (2021-12-06)


### Features

* added noUI parameter ([452dbc2](https://github.com/valentine195/obsidian-leaflet-plugin/commit/452dbc2347a10d3af64137c1cda22f3fd989beb0))

## [4.4.0](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.3.7...4.4.0) (2021-12-06)


### Features

* added `preserveAspect` map parameter (close [#254](https://github.com/valentine195/obsidian-leaflet-plugin/issues/254)) ([e507416](https://github.com/valentine195/obsidian-leaflet-plugin/commit/e5074160a62c1ad6b8dde5bc0c8bbcd2260efa5d))

### [4.3.7](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.3.6...4.3.7) (2021-12-06)


### Bug Fixes

* markers with only descriptions will display their popup (close [#253](https://github.com/valentine195/obsidian-leaflet-plugin/issues/253)) ([ceb8498](https://github.com/valentine195/obsidian-leaflet-plugin/commit/ceb8498b0cd50b55ed1aca9c7baaec92f5251bae))

### [4.3.6](https://github.com/valentine195/obsidian-leaflet-plugin/compare/4.3.5...4.3.6) (2021-12-06)


### Bug Fixes

* fixed issue where drag and drop was not linking note to marker ([f9261e3](https://github.com/valentine195/obsidian-leaflet-plugin/commit/f9261e388a2a0238fbf81532bcfec6cc4c9af1b6))

## 4.0.0
Highlights:

1. The *entire* plugin has been rewritten, resulting in a much faster and smoother experience.
2. Images are loaded in a background process and no longer block Obsidian from responding.
3. You can now view detailed health data on the map, including elevation, pace, cadence and more!
4. There is a brand-new Leaflet Map View. You can save parameters for your in-note maps to the view to open an exact copy, or create your own, custom view.
5. You can now draw and edit shapes directly on maps!
6. For those of you using Obsidian to run TTRPGs, Leaflet now integrates directly with the Initiative Tracker, giving you the ability to use it as a full-on battlemap.
7. You can now specify alternate map serves other than OpenStreetMap, and real-world maps can now have multiple layers.
8. The plugin now has full localization support (but currently only supports English).

Several bug fixes.

## 3.18.0

- Added support for GeoJSON styling using the MapBox SimpleStyle specification
- GeoJSON now displays a tooltip if the features have a `title`, `description` or `name` specified
- The default GeoJSON color can be set with the new `geojsonColor` parameter
- Fixed issue where maps would not load if a non-markdown file was present in the immutable file list

## 3.17.0

-   Added support for GeoJSON files
-   Added support for `mapmarkers` frontmatter tag
-   Backend updates

## 3.16.0

-   Added file watchers to automatically update immutable markers and overlays when note frontmatter changes
-   Fixed issue where `zoomDelta` was not respected when using scroll wheel
-   Fixes issue where markerFiles, markerFolders and markerTags were not rendered

## 3.15.0

-   Added `linksTo` and `linksFrom` parameters
-   Map overlays from note frontmatter will filter with the `mapmarker` type
-   Add new `coordinates` and `zoomTag` parameter
    -   `coordinates` can be used in lieu of `lat` and `long` parameters
    -   If the `coordinates` is a note file wikilink, it will read the note file's `location` frontmatter tag and use that for initial starting coordinates
    -   If `zoomTag` is specified, it will read the tag from the frontmatter of the _same_ file specified in `coordinates`. If `coordinates` is not a file, `zoomTag` does nothing. - It will use the tag (formatted the same as `overlayTag` - `<distance> <unit>`) to calculate the default zoom level to display

## 3.14.0

-   Close #74 - Added `bounds` parameter to set custom image map coordinates
-   Greatly improved error reporting
-   Fixed an issue where maps were defaulting to dark mode
-   Fixed issue where canceling drawing an overlay could cause an error on the next click

## 3.13.0

-   Added overlay descriptions
    -   Changed overlay syntax to `[<color>, <location>, <radius> <unit>, <description>]`
-   Added `overlayTag` and `overlayColor` map block parameters
-   Fixed issue where immutable markers would still launch the context modal
-   Fixed issue where transparent images were not uploading correctly
-   Fixed issue where a map with overlays but no markers would not save
-   Fixed issue where overlays drawn directly on image maps would not re-render correctly
-   Fixed issue where overlays defined with a non-hex color would display black in the color-picker
-   Fixed issue where edited parameters in the overlay context menu were not correctly applied
-   Overlay radiuses in the context menu now correctly display the radius in the correct unit
-   Improved visual appearance of a loading map
-   Improved documentation

## 3.12.0

-   Added ability to upload images to use as marker icons
    -   Images will be resized to 24px wide maximum
    -   Markers with image icons cannot be layered
    -   If the default marker is set to an image, additional marker types cannot be layered
-   Improved behavior of Filter Marker control box
-   File upload buttons now respect theme CSS
-   Fixed some bugs related to removing/adding marker types when maps are open

## 3.11.0

-   Large codebase re-organization
-   Maps are now generated by a Markdown render child generator
-   Maps now handle their own escape scopes
-   Image maps now load the first image then load remaining images in the background
-   Improved image rendering speed
-   Added ability to define `image`, `marker`, `commandMarker`, `markerFile`, `markerFolder`, and `markerTag` parameters using YAML syntax instead of multiple parameter tags
    -   `markerTag` instances cannot be defined using # in YAML - # denotes a comment
    -   YAML-style syntax cannot be combined with original syntax
-   Added basic circle map overlays
    -   Can be created on the map by <kbd>Shift</kbd>-right clicking on a point to begin drawing
    -   Can be defined in source block using new `overlay` parameter
    -   Can be created from note frontmatter (found using existing `markerFile`, `markerFolder` and `markerTag` parameters) using `mapoverlay`
    -   Please see [the ReadME section](./README.md#Overlays) for syntax
-   Fixed several issues related to marker filter control box
-   Fixed issue where the `Layer Marker` setting of a Marker Type was not being respected

## 3.10.0

-   Changed coordinate copy-to-clipboard from `[lat, lng]` to `lat, lng`
-   Added "Show All Markers" and "Reset View" control buttons
-   Added Filter Markers button that allows filtering by marker type (more filters to come, possibly)
-   Moved Bulk Edit Markers to Top Right
    -   Top Left -> View Controls
    -   Top Right -> Layer controls (incl. markers)
    -   Bottom Left -> Distance controls

## 3.9.2

-   In an effort to reduce notice spam, copying map/marker coordinates now must be done by <kbd>Ctrl</kbd> + <kbd>Shift</kbd>/<kbd>Alt</kbd>-clicking

## 3.9.0

-   Added `darkMode` parameter to invert map colors
-   Added "Bulk Edit Markers" button to maps underneath the fullscreen control
    -   Adds a simple way to change the type, location, and link of all mutable markers defined on the map.

## 3.8.3

-   Improved code structure
-   removed Notice of distance calculation
-   added control box in bottom-left corner that displays previously measured distance
    -   hovering the control box displays the previous distance line
    -   clicking the control box pans the map to fit the line
-   reduced number of decimals for distance display to 1
-   moved distance line tooltip to mouse cursor position
-   distance line tooltip is now always on top (no longer bounces around)

## 3.8.0

-   Added fullscreen map button
-   Distance line now correctly snaps to markers
-   Fixed some issues related to escaping from the distance line

## 3.7.0

-   Removed some unnecessary map events
-   Removed requirement for `scale` parameter on real world maps. Supplying a unit will try to auto-convert.
-   Added `distanceMultiplier` parameter that will display an additional, multiplied distance value when calculating distance
-   Fixed issue where clicking on the map without a modifier key was displaying click coordinates
-   added distance line display to map, from original click -> mouse cursor, with real-time distance tooltip
-   distances are now displayed according to user's locale
-   distance lines can be aborted by pressing <kbd>Escape</kbd>

## 3.6.0

-   Marker tooltips are now fully interactable (copy/paste, click)
-   Added ability to shift/alt click on map to display coordinates
-   Added setting toggle to copy location to clipboard on shift/alt click

## 3.5.0

-   Added ability to <kbd>Shift</kbd>-click to display marker coordinates along with existing <kbd>Alt</kbd>-click functionality
-   Changed distance feature to use <kbd>Shift</kbd> or <kbd>Alt</kbd> instead of <kbd>Ctrl</kbd>
-   Added ability to calculate distances using markers

## 3.4.0

-   Added explicit `commandMarker` and Command Marker toggles
    -   These are **required** if the marker is to execute a command

## 3.3.0

-   Marker links may now be Obsidian commands

## 3.2.0

-   Added <kbd>Alt<kbd>-click on marker to reveal coordinates

## 3.1.0

-   Changed from `marker` to `mapmarker` for frontmatter tag
    -   `marker` will continue to work for a few releases
    -   Added change notice warning
-   Added `markerTag` parameter
    -   requires Dataview plugin

## 3.0.0

### New Features

-   Map IDs are now required.
    -   A map that does not have an id will **not render**
    -   The plugin will try to load previously defined marker data once an id has been given to the map.
    -   This means marker definitions are no longer tied to maps - giving a map on a different note the same ID will load the same marker data
-   Marker data that is not associated with a file will now be deleted after 7 days to prevent data accumulation
-   Map data is now only saved if the map has defined markers
-   Image files can now be linked using an Obsidian wikilink (e.g., [[Image Name.jpg]])
-   New `markerFile` and `markerFolder` parameters in maps
    -   `markerFile` will read a note file's frontmatter and create a marker based on the `marker` and `location` tags
        -   `marker` should be a defined marker type (will default to `default` if not provided)
        -   `location` should be a array of [latitude, longitude]. **If not provided, the marker will not be created**
        -   The marker link target will be set to the file
    -   `markerFolder` will read _all_ of the files in the folder, and try to parse the frontmatter as above.
-   Made display of marker link in tooltip consistent with Obsidian's display style
-   Added data attributes to marker HTML element
    -   data-type: marker type
    -   data-link: marker link target, if any
    -   data-mutable: whether marker data can be edited
    -   data-type: marker type name (such as default)
-   Switched from uuid to 6 digit nanoid
-   Rendering improvements

### Bug Fixes

-   Fixed issue where a new marker type's Layer Icon setting was not respecting the default layer marker setting
-   Fixed issue where clicking a marker could open the context menu
-   Fixed issue where clicking a marker without a link could cause an error
-   Fixed issue with opening a marker link defined with alt-text
-   Fixed issue where resizing the leaf containing a map caused it to calculate marker positions incorrectly
-   Fixed issue where having the same map open in multiple windows was not adding markers correctly
-   Fixed issue where dragging a marker created on a map open in multiple views would not drag correctly on other maps
-   Fixed issue where turning the plugin off would leave map tiles in random locations on open notes
-   Fixed issue where showing the note preview of a note with a map that is already open in the workspace would cause the map to be disassociated

## 2.1.0

-   Added marker parameter in code block
-   Fixed issue where importing a CSV file that changed a marker on an open map failed to update the marker information

## 2.0.0

-   Added ability to export marker data to a CSV file
-   Added ability to import marker data from a CSV file
-   Added Obsidian-like file chooser to marker link path

## 1.3.0

-   Removed requirement for file path in marker target
-   Added ability to target blocks in marker target

## 1.2.0

-   Add rudimentary distance calculation between two points on the map
-   Fixed issue where opening the same map in multiple leaves could cause one map to de-render

## 1.1.0

-   Maps now recalculate their sizing when the window is resized

## 1.0.0

-   Switch to proper semantic versioning
-   Added Note Preview setting
    -   This setting displays the Obsidian page preview when you hover over a linked marker
-   Map height can now be in provided as a percentage

## 0.3.1

-   Added image map layers
    -   It is now possible to have an arbitrary number of image maps layered on top of each other by supplying multiple images to the code block
    -   Markers created on a specific layer are only displayed when that layer is active
    -   Navigation between layers is done using the layer control box in the top right

## 0.2.2

-   Added real-world maps
-   Added latitude and longitude options
-   Added zoom delta option
-   Added tooltip display on markers that link to notes
-   Bug fixes
